Pessoal, uma das coisas que eu acredito ser mais importante, na hora que a falamos sobre esse documento, é o risco. Riscos e estratégias de mitigação. Coisas ruins acontecem o tempo todo, como eu já tinha falado para vocês. Imagina que você fez um sistema que está um brinco, está tudo funcionando bem. Então, de repente a sua Gateway de pagamento parou de funcionar. Deu problema, e um monte de gente veio falar: “pô, não sei o quê!” E você falou assim, “não posso fazer nada, minha parte está feita”. Sabe o que isso significa? Significa a seguinte frase: “A cirurgia aconteceu com total êxito, mas o paciente não sobreviveu”. É exatamente isso o que quer dizer. A gente é pago para botar as coisas para funcionar, independente se o problema foi com a gente ou não. Como eu consigo mitigar o risco, então, se a minha Gateway falhar? O que eu vou fazer? Eu vou ter uma gateway reserva? E se a reserva falhar? E se eu só tiver uma opção de gateway, o que que eu vou fazer? Vou guardar os processamentos comigo para quando ela voltar eu mandar ela reprocessar? Depende. E isso é um caso, o grande ponto é que existem riscos tão grandes que não importa se foi você que fez ou se é um sistema de terceiro. O ponto é que ele vai afetar a solução como um todo e você tem que conseguir prever ao máximo esses tipos de problemas.

 Vou dar um exemplo muito claro para você: Riscos potenciais. Vamos imaginar que você trabalha em um e-commerce gigante e que você recebe milhares de notas fiscais. Por exemplo, o Mercado Livre tem um milhão e meio de notas fiscais emitidas por dia. E a gente tem uma regra no Brasil. Se o caminhão que vai fazer entrega não tiver com uma nota na mão, isto é, o Danfe na mão. O que que vai acontecer? Sem o Danfe, ele não consegue sair para a entrega. O sistema do Sefaz está fora do ar, porque ele não aguentou a quantidade que o seu sistema estava emitindo. E isso vai parar toda a operação da empresa. O que você faz nessa situação? Eu não estou aqui para responder esse problema. O que eu estou querendo dizer é, novamente, que seu sistema está bonitinho. Você enfileirou todas as notas que você tem que emitir? Assim que ela voltar, ele vai mandar? Você vai perder algum dado? Você vai perder alguma informação? Como você vai priorizar os tipos de notas fiscais que vão ser emitidas caso esse sistema fique fora? Um sistema desse fora, não temos controle, ou seja, não temos o que fazer. Mas temos o que fazer quando ele voltar. Você vai priorizar o que é importante. Então, eu vou criar duas filas, uma fila por produtos que eu vou, por exemplo, processar, que eu tenho que entregar no mesmo dia e vou criar outra fila que vai receber coisas que vou entregar daqui a pouco, vou entregar daqui três dias, por exemplo. Então se o sistema cair, quando voltar vou ter sempre a prioridade da fila X. Estou apenas dando um exemplo  para vocês. Então, são riscos potenciais que você tem que ter. Riscos de grande impacto, como isso que eu acabei de falar. E os famosos planos de contingência. É muito difícil criar um plano de contingência. Tem algumas coisas que são claras, como o sistema cair, o banco de dados ficar fora e etc. Então você vai ter planos específicos de coisas que são óbvias e pelo fato delas serem óbvias, significam que elas importam. Novamente, eu estou falando para você criar planos para as coisas que realmente importam. O grande ponto é que conforme o tempo for passando, você vai perceber que, às vezes, coisas muito pequenas acabam se importando muito. São tão fortes quanto às coisas grandes. Principalmente, porque às vezes as dependências que fazem com que um produto saia do ar, são tão pequenas que a gente acaba ignorando. A gente já passou por algumas situações que, por exemplo, um sistema de vídeo, onde todo o core dele está desenvolvido num sistema e etc, mas no final das contas, para ele fazer um negócio, tem que fazer uma chamada de API num sisteminha pequeno, que parece que é nem crítico. Ele retorna 1 ou 0 dependendo da situação. E todo mundo foi lá e deixou todos os monitoramentos em cima daquele “sistemão’’ porque ele é crítico, ele é aquilo. Aquele sisteminha um dia caiu, e todo aquele sistema caiu por conta desse negocinho pequeno. Então, o plano de contingência, obviamente, vai ser criado de acordo com o que você vai percebendo ter esse nível de criticidade. Por isso que, nesses tipos de documento, é importante você tentar antecipar alguns planos que você vai ter que fazer e de coisas que você já está conseguindo prever. Você nunca vai conseguir prever tudo, mas existem algumas coisas e você, como arquiteto de solução, sabe o que importa. Se você sabe o que importa, tem que ter um plano. Maravilha! Vamos seguir para o nosso próximo vídeo.

