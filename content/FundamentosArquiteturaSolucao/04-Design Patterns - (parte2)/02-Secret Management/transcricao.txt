Bom pessoal, agora nós vamos falar sobre Secret Management. O que acontece galera? Seja honesto comigo, quantas vezes algum desenvolvedor falou: “cola aí para mim a senha do banco de dados, porque eu preciso colocar no meu programa” ou "como é a senha desse e-mail aí só para eu colocar para mandar uma transação?” Galera, o que mais tem no dia a dia são senhas voando no chat do Slack ou em qualquer sistema de comunicação da empresa. O que mais tem também sabe o que é? Senhas que não são rotacionadas por anos. Então, você tem aquele banco de dados funcionando bonitão e simplesmente a senha de root, por exemplo, daquele banco de dados ou a senha daquele banco de dados que você precisa, o que acontece? Nunca foi rotacionado. E por quê? Porque dá trabalho, né? Você terá que alterar os dados do seu sistema, vai ter que fazer alteração lá no banco de dados e mesmo assim, gera um desconforto. Além disso, muitas vezes, as senhas que são geradas ali em produção, o seu desenvolvedor vai ter acesso, e não é legal o desenvolvedor ter, de uma forma muito clara, muito transparente, a senha do banco de dados ou qualquer outro tipo de credencial, qualquer tipo de dado sensível. Então, é por conta disso que a gente tem uma parada de Secret Management, e também existem serviços na nuvem que fazem esse tipo de serviço. Então, vamos entender o que o Secret Management faz.

 

Credenciais não podem ficar voando na empresa. Os processos para rotacionar credenciais são muito importantes. Existem serviços gerenciados ou soluções para ajudar você nessa tarefa. Mudar a senha, tentar dificultar um pouco para que o desenvolvedor tenha acesso a esses dados. Como é que funciona essa parada? Existem soluções como o Hashicorp Vault, onde você guarda todas suas credenciais nele e quando você precisa da credencial, o seu software acessa esse cara, baixa a credencial e aplica no sistema. A mesma coisa, vou dar um exemplo aqui da AWS, mais o Google tem, Azure tem, etc. Que é AWS Secret Manager, que é um as a service aqui, que simplesmente ele serve para armazenar secrets. Outra coisa, ele faz o rotacionamento automático, inclusive nos serviços principais da própria AWS. Assim, vamos imaginar que você tem aquele banco de dados que tem a sua senha por um ano lá. Logo, o que o Secret Manager faz? Ele faz a alteração de tempo em tempo que você configurar no banco de dados ali para você. E isso aí vai te ajudar, porque vai garantir que sempre essas senhas estão sendo rotacionadas. Legal? Uma coisa interessante que já deve ter passado na sua cabeça, caso você seja realmente um dev, é o seguinte: mais como que eu consigo pegar essa senha? Galera, é muito fácil. Você vai ter um SDK da Amazon, do Secret Manager, você dá um get lá com um aqui e daí você recebe a senha.

 

E agora, você desenvolvedor, deve estar pensando: “Wesley, então o desenvolvedor tem acesso a senha”. Vamos lá galera, não vamos confundir ambiente. Por que eu estou dizendo isso? Quando o desenvolvedor em si, desenvolve o software, ele está em um ambiente de staging, ele está no ambiente de desenvolvimento. Quando o software vai para a produção, o desenvolvedor não acessa mais esse software. Ok? O que vai acontecer é esse software estar rodando em um ambiente isolado, o desenvolvedor não vai acessar o software, não vai logar o software e ele não vai dar um console .log naquele software para ele poder printar aquela credencial para ele ver. E se ele estiver fazendo isso, a única coisa que você vai saber é que na sua empresa falta procedimento para que isso não aconteça. Ou caso você realmente queira dar esse acesso para o desenvolvedor e você não se importa que o desenvolvedor tenha acesso a isso. Melhor ter isso e rotacionar as senhas do que não ter nada, legal? Portanto, isso é uma super boa prática que vale a pena ter. Um sistema que guarda a senha tem todo um mecanismo de criptografia, etc e é uma das ótimas boas práticas que você pode utilizar no seu dia a dia. Logo, essa é a ideia de Secrets Management. Isso vai te ajudar pra caramba no dia a dia e vai evitar um monte de situação para você, beleza? Um grande abraço e até o nosso próximo vídeo.

